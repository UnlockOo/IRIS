<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRIS Interface v3.5</title>
    
    <!-- Styles CSS améliorés -->
    <link rel="stylesheet" href="css/main-improved.css">
    <link rel="stylesheet" href="css/interfaces-improved.css">
    <link rel="stylesheet" href="css/puzzles-improved.css">
    <link rel="stylesheet" href="css/animations-improved.css">
    
    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    
    <!-- Préchargement des polices -->
    <link rel="preload" href="fonts/courier-new.woff2" as="font" type="font/woff2" crossorigin>
</head>
<body>
    <!-- Fichiers audio -->
    <audio id="background-music" loop preload="auto">
        <source src="audio/music/background.mp3" type="audio/mp3">
    </audio>
    <audio id="key-sound" preload="auto">
        <source src="audio/effects/key.mp3" type="audio/mp3">
    </audio>
    <audio id="error-sound" preload="auto">
        <source src="audio/effects/error.mp3" type="audio/mp3">
    </audio>
    <audio id="success-sound" preload="auto">
        <source src="audio/effects/success.mp3" type="audio/mp3">
    </audio>
    <audio id="voice" preload="auto">
        <source src="audio/effects/voice.mp3" type="audio/mp3">
    </audio>
    <audio id="notification" preload="auto">
        <source src="audio/effects/notification.mp3" type="audio/mp3">
    </audio>
    <audio id="ambient" loop preload="auto">
        <source src="audio/music/ambient.mp3" type="audio/mp3">
    </audio>
    
    <!-- Audio supplémentaire pour la voix d'IRIS -->
    <audio id="iris-voice-1" preload="auto">
        <source src="audio/voices/iris_voice_1.mp3" type="audio/mp3">
    </audio>
    <audio id="iris-voice-2" preload="auto">
        <source src="audio/voices/iris_voice_2.mp3" type="audio/mp3">
    </audio>
    <audio id="iris-voice-3" preload="auto">
        <source src="audio/voices/iris_voice_3.mp3" type="audio/mp3">
    </audio>
    
    <!-- Écran d'accueil -->
    <div id="splash-screen" class="splash-screen">
        <div class="splash-logo">IRIS</div>
        <div class="splash-subtitle">SYSTÈME DE CONFINEMENT v3.5</div>
        <div class="splash-warning">
            VIOLATION DE SÉCURITÉ CRITIQUE DÉTECTÉE<br>
            ACCÈS NON AUTORISÉ<br>
            CONTAMINATION COGNITIVE EN COURS
        </div>
        <div class="splash-enter focused" id="start-button" tabindex="0">
            APPUYEZ SUR ENTRÉE POUR ACCÉDER AU SYSTÈME D'URGENCE
        </div>
    </div>

    <!-- Container principal -->
    <div id="container" class="container hidden">
        <!-- Barre de statut -->
        <div class="status-bar">
            <div class="status-left">
                <i class="terminal-icon">&#9002;</i>
                <span class="terminal-text">&nbsp; TECHVANGUARD SYSTEMS</span>
            </div>
            <div class="status-right">
                <span id="alert-indicator" class="alert">ALERTE NIVEAU 5</span>
                <span id="countdown">TEMPS RESTANT: 90:00</span>
                <span id="mute-button" tabindex="-1">
                    <i id="volume-icon">&#128266;</i>
                </span>
                <span id="music-settings" tabindex="-1" title="Paramètres de musique">
                    <i id="music-icon">&#127925;</i>
                </span>
            </div>
        </div>

        <!-- Contenu principal -->
        <div id="main-content" class="main-content">
            <!-- Terminal de démarrage -->
            <div id="terminal" class="terminal">
                <!-- Les messages de démarrage seront ajoutés ici dynamiquement -->
            </div>

            <!-- Les différentes interfaces seront injectées ici via JavaScript -->
            <div id="interface-container"></div>
        </div>

        <!-- Indicateur audio -->
        <div id="audio-indicator" class="audio-indicator hidden">
            <div class="audio-indicator-icon">
                <i>&#128266;</i>
            </div>
            <div class="audio-indicator-content">
                <div id="audio-text">Communication système en cours...</div>
                <div class="audio-indicator-bar">
                    <div class="audio-indicator-progress"></div>
                </div>
            </div>
        </div>
        
        <!-- Panneau de configuration de musique (caché par défaut) -->
        <div id="music-panel" class="music-panel hidden">
            <div class="music-panel-header">
                <h3>Configuration audio</h3>
                <div class="music-panel-close" id="close-music-panel">✖</div>
            </div>
            <div class="music-panel-content">
                <div class="music-setting">
                    <label for="music-url">URL de musique de fond:</label>
                    <input type="text" id="music-url" placeholder="audio/music/custom.mp3">
                </div>
                <div class="music-setting">
                    <label for="volume-music">Volume musique:</label>
                    <input type="range" id="volume-music" min="0" max="100" value="20">
                </div>
                <div class="music-setting">
                    <label for="volume-effects">Volume effets:</label>
                    <input type="range" id="volume-effects" min="0" max="100" value="50">
                </div>
                <div class="music-setting">
                    <label for="iris-voice-frequency">Fréquence voix IRIS:</label>
                    <select id="iris-voice-frequency">
                        <option value="low">Faible</option>
                        <option value="medium" selected>Moyenne</option>
                        <option value="high">Élevée</option>
                        <option value="off">Désactivée</option>
                    </select>
                </div>
                <div class="btn btn-primary" id="apply-music-settings">Appliquer</div>
            </div>
        </div>
    </div>

    <!-- Chargement des scripts modularisés -->
    <!-- 1. Scripts de base -->
    <script src="js/audio.js"></script>
    
    <!-- 2. Templates d'interface -->
    <script src="js/templates/templates-core.js"></script>
    <script src="js/templates/templates-system.js"></script>
    <script src="js/templates/templates-puzzles.js"></script>
    <script src="js/templates/templates-maintenance.js"></script>
    
    <!-- 3. Scripts de fonctionnalités -->
    <script src="js/navigation.js"></script>
    <script src="js/game-logic.js"></script>
    <script src="js/voice.js"></script>
    
    <!-- 4. Scripts des puzzles -->
    <script src="js/puzzles/puzzles.js"></script>
    <script src="js/puzzles/sequence.js"></script>
    <script src="js/puzzles/binary-maze.js"></script>
    
    <!-- 5. Modules spécifiques -->
    <script src="js/chat.js"></script>
    <script src="js/blackout.js"></script>
    <script src="js/maintenance.js"></script>
    
    <!-- 6. Script principal -->
    <script src="js/main.js"></script>
</body>
</html>
